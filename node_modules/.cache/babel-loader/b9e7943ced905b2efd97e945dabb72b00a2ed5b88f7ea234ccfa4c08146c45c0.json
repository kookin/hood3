{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.generateChildLogger = exports.formatChildLoggerContext = exports.getLoggerContext = exports.setBrowserLoggerContext = exports.getBrowserLoggerContext = exports.getDefaultLoggerOptions = void 0;\nconst constants_1 = require(\"./constants\");\nfunction getDefaultLoggerOptions(opts) {\n  return Object.assign(Object.assign({}, opts), {\n    level: (opts === null || opts === void 0 ? void 0 : opts.level) || constants_1.PINO_LOGGER_DEFAULTS.level\n  });\n}\nexports.getDefaultLoggerOptions = getDefaultLoggerOptions;\nfunction getBrowserLoggerContext(logger) {\n  let customContextKey = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : constants_1.PINO_CUSTOM_CONTEXT_KEY;\n  return logger[customContextKey] || \"\";\n}\nexports.getBrowserLoggerContext = getBrowserLoggerContext;\nfunction setBrowserLoggerContext(logger, context) {\n  let customContextKey = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : constants_1.PINO_CUSTOM_CONTEXT_KEY;\n  logger[customContextKey] = context;\n  return logger;\n}\nexports.setBrowserLoggerContext = setBrowserLoggerContext;\nfunction getLoggerContext(logger) {\n  let customContextKey = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : constants_1.PINO_CUSTOM_CONTEXT_KEY;\n  let context = \"\";\n  if (typeof logger.bindings === \"undefined\") {\n    context = getBrowserLoggerContext(logger, customContextKey);\n  } else {\n    context = logger.bindings().context || \"\";\n  }\n  return context;\n}\nexports.getLoggerContext = getLoggerContext;\nfunction formatChildLoggerContext(logger, childContext) {\n  let customContextKey = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : constants_1.PINO_CUSTOM_CONTEXT_KEY;\n  const parentContext = getLoggerContext(logger, customContextKey);\n  const context = parentContext.trim() ? `${parentContext}/${childContext}` : childContext;\n  return context;\n}\nexports.formatChildLoggerContext = formatChildLoggerContext;\nfunction generateChildLogger(logger, childContext) {\n  let customContextKey = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : constants_1.PINO_CUSTOM_CONTEXT_KEY;\n  const context = formatChildLoggerContext(logger, childContext, customContextKey);\n  const child = logger.child({\n    context\n  });\n  return setBrowserLoggerContext(child, context, customContextKey);\n}\nexports.generateChildLogger = generateChildLogger;","map":{"version":3,"names":["constants_1","require","getDefaultLoggerOptions","opts","Object","assign","level","PINO_LOGGER_DEFAULTS","exports","getBrowserLoggerContext","logger","customContextKey","arguments","length","undefined","PINO_CUSTOM_CONTEXT_KEY","setBrowserLoggerContext","context","getLoggerContext","bindings","formatChildLoggerContext","childContext","parentContext","trim","generateChildLogger","child"],"sources":["../../src/utils.ts"],"sourcesContent":[null],"mappings":";;;;;;AAEA,MAAAA,WAAA,GAAAC,OAAA;AAEA,SAAgBC,uBAAuBA,CAACC,IAAoB;EAC1D,OAAAC,MAAA,CAAAC,MAAA,CAAAD,MAAA,CAAAC,MAAA,KACKF,IAAI;IACPG,KAAK,EAAE,CAAAH,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEG,KAAK,KAAIN,WAAA,CAAAO,oBAAoB,CAACD;EAAK;AAEpD;AALAE,OAAA,CAAAN,uBAAA,GAAAA,uBAAA;AAOA,SAAgBO,uBAAuBA,CACrCC,MAAc,EACoC;EAAA,IAAlDC,gBAAA,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAA2BZ,WAAA,CAAAe,uBAAuB;EAElD,OAAQL,MAAc,CAACC,gBAAgB,CAAC,IAAI,EAAE;AAChD;AALAH,OAAA,CAAAC,uBAAA,GAAAA,uBAAA;AAOA,SAAgBO,uBAAuBA,CACrCN,MAAc,EACdO,OAAe,EACmC;EAAA,IAAlDN,gBAAA,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAA2BZ,WAAA,CAAAe,uBAAuB;EAEjDL,MAAc,CAACC,gBAAgB,CAAC,GAAGM,OAAO;EAC3C,OAAOP,MAAM;AACf;AAPAF,OAAA,CAAAQ,uBAAA,GAAAA,uBAAA;AASA,SAAgBE,gBAAgBA,CAC9BR,MAAc,EACoC;EAAA,IAAlDC,gBAAA,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAA2BZ,WAAA,CAAAe,uBAAuB;EAElD,IAAIE,OAAO,GAAG,EAAE;EAEhB,IAAI,OAAOP,MAAM,CAACS,QAAQ,KAAK,WAAW,EAAE;IAC1CF,OAAO,GAAGR,uBAAuB,CAACC,MAAM,EAAEC,gBAAgB,CAAC;GAC5D,MAAM;IACLM,OAAO,GAAGP,MAAM,CAACS,QAAQ,EAAE,CAACF,OAAO,IAAI,EAAE;;EAE3C,OAAOA,OAAO;AAChB;AAZAT,OAAA,CAAAU,gBAAA,GAAAA,gBAAA;AAcA,SAAgBE,wBAAwBA,CACtCV,MAAc,EACdW,YAAoB,EAC8B;EAAA,IAAlDV,gBAAA,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAA2BZ,WAAA,CAAAe,uBAAuB;EAElD,MAAMO,aAAa,GAAGJ,gBAAgB,CAACR,MAAM,EAAEC,gBAAgB,CAAC;EAChE,MAAMM,OAAO,GAAGK,aAAa,CAACC,IAAI,EAAE,GAChC,GAAGD,aAAa,IAAID,YAAY,EAAE,GAClCA,YAAY;EAChB,OAAOJ,OAAO;AAChB;AAVAT,OAAA,CAAAY,wBAAA,GAAAA,wBAAA;AAYA,SAAgBI,mBAAmBA,CACjCd,MAAc,EACdW,YAAoB,EAC8B;EAAA,IAAlDV,gBAAA,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAA2BZ,WAAA,CAAAe,uBAAuB;EAElD,MAAME,OAAO,GAAGG,wBAAwB,CACtCV,MAAM,EACNW,YAAY,EACZV,gBAAgB,CACjB;EACD,MAAMc,KAAK,GAAGf,MAAM,CAACe,KAAK,CAAC;IAAER;EAAO,CAAE,CAAC;EACvC,OAAOD,uBAAuB,CAACS,KAAK,EAAER,OAAO,EAAEN,gBAAgB,CAAC;AAClE;AAZAH,OAAA,CAAAgB,mBAAA,GAAAA,mBAAA"},"metadata":{},"sourceType":"script","externalDependencies":[]}